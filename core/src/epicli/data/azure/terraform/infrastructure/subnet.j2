#####################################################
# DO NOT Modify by hand - Managed by Automation
#####################################################
#####################################################
# This file can be used as a base template to build other Terraform files. It attempts to use as much
# Terraform interprolation as possible by creating Terraform variables instead of changing inline
# this approach provides an easier way to do creative looping, fetch IDs of created resources etc.
#####################################################
#####################################################
# {{ specification.name }}
#####################################################

resource "azurerm_subnet" "{{ specification.name }}" {
  name                 = "{{ specification.name }}"
  address_prefix       = "{{ specification.address_prefix }}"

  #Deprecated but needed for now because of deadlock.
  network_security_group_id = "${azurerm_network_security_group.{{ specification.security_group_name }}.id}"

  resource_group_name  = "${azurerm_resource_group.rg.name}"
  virtual_network_name = "${azurerm_virtual_network.vnet.name}"
}
