#jinja2: lstrip_blocks: True
# {{ ansible_managed }}

server.port: 5601
server.host: "{{ inventory_hostname }}"
{% if groups.opensearch is defined %}
opensearch.hosts:
  {% for host in groups.opensearch %}
  - "https://{{ host }}:{{ opensearch_api_port }}"
  {% endfor %}
{% else %}
opensearch.hosts: []
{% endif %}
opensearch.ssl.verificationMode: none
opensearch.username: "kibanaserver"
opensearch.password: "{{ opensearch_configuration.specification.kibanaserver_password }}"
opensearch.requestHeadersWhitelist: [ authorization,securitytenant ]

opensearch_security.multitenancy.enabled: true
opensearch_security.multitenancy.tenants.preferred: ["Private", "Global"]
opensearch_security.readonly_mode.roles: ["kibana_read_only"]
# Use this setting if you are running dashboards without https
opensearch_security.cookie.secure: false
