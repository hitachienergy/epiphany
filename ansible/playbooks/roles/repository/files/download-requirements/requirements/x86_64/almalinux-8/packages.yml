---
prereq-packages:
  # prereq-packages are downloaded without dependencies because of air-gapped mode (dnf localinstall)
  # --- createrepo ---
  - 'createrepo_c'
  - 'createrepo_c-libs'
  - 'drpm'
  # --- httpd ---
  - 'almalinux-logos-httpd'
  - 'apr'
  - 'apr-util'
  - 'apr-util-bdb'  # weak
  - 'apr-util-openssl'  # weak
  - 'httpd'
  - 'httpd-filesystem'
  - 'httpd-tools'
  - 'mailcap'
  - 'mod_http2'

packages:
  - 'audit'  # for docker-ce
  - 'bash-completion'
  - 'ca-certificates'
  - 'cifs-utils'
  - 'conntrack-tools'  # for kubelet
  - 'containerd.io-1.4.12'
  - 'container-selinux'
  - 'cri-tools'
  - 'curl'
  - 'dejavu-sans-fonts'  # for grafana
  - 'docker-ce-20.10.8'
  - 'docker-ce-cli-20.10.8'
  - 'docker-ce-rootless-extras-20.10.8'
  - 'iptables-ebtables'
  - 'elasticsearch-curator-5.8.3'
  - 'elasticsearch-oss-7.10.2'  # for opendistroforelasticsearch & logging roles
  - 'ethtool'
  - 'filebeat-7.9.2'
  - 'firewalld'
  - 'fontconfig'  # for grafana
  - 'fping'
  - 'fuse-overlayfs'  # for docker-ce-rootless-extras
  - 'gnutls'  # for cifs-utils
  - 'gssproxy'  # for nfs-utils
  - 'htop'
  - 'iftop'
  - 'ipset'  # for firewalld
  - 'java-1.8.0-openjdk-headless'
  - 'javapackages-tools'  # for java-1.8.0-openjdk-headless
  - 'jq'
  - 'libini_config'  # for nfs-utils
  - 'python3-libselinux'
  - 'python3-libsemanage'
  - 'libX11'  # for grafana
  - 'libxcb'  # for grafana
  - 'libXcursor'  # for grafana
  - 'libXt'  # for grafana
  - 'logrotate'
  - 'net-tools'
  - 'nfs-utils'
  - 'nmap-ncat'

  # Open Distro for Elasticsearch plugins are installed individually to not download them twice in different versions (as dependencies of opendistroforelasticsearch package)
  - 'opendistro-alerting-1.13.1.*'
  - 'opendistro-index-management-1.13.1.*'
  - 'opendistro-job-scheduler-1.13.0.*'
  - 'opendistro-performance-analyzer-1.13.0.*'
  - 'opendistro-security-1.13.1.*'
  - 'opendistro-sql-1.13.0.*'
  - 'opendistroforelasticsearch-kibana-1.13.1'  # kibana has shorter version
  - 'openssl'
  - 'perl'  # for vim
  - 'perl-Getopt-Long'  # for vim
  - 'perl-libs'  # for vim
  - 'perl-Pod-Perldoc'  # for vim
  - 'perl-Pod-Simple'  # for vim
  - 'perl-Pod-Usage'  # for vim
  - 'pgaudit15_13-1.5.0'
  - 'python3-dnf-plugin-versionlock'
  - 'python3-policycoreutils'  # for container-selinux
  - 'python3-ldb'  # for cifs-utils
  - 'python3-cffi'  # for python2-cryptography
  - 'python3-firewall'  # for firewalld
  - 'python3-lxml'  # for java-1.8.0-openjdk-headless
  - 'python3-psycopg2'
  - 'python3-pycparser'  # for python2-cryptography
  - 'python3-setuptools'
  - 'python3-slip-dbus'  # for firewalld
  - 'python3-cryptography'  # for Ansible (certificate modules)
  - 'python36'
  - 'quota'  # for nfs-utils
  - 'rabbitmq-server-3.8.9'
  - 'postgresql13-server'
  - 'repmgr10-5.2.1'  # used to upgrade repmgr first
  - 'repmgr13-5.2.1'
  - 'samba-client'
  - 'samba-client-libs'  # for samba-client
  - 'samba-common'
  - 'samba-libs'  # for cifs-utils
  - 'sysstat'
  - 'tar'
  - 'telnet'
  - 'tmux'
  - 'urw-base35-fonts'  # for grafana
  - 'unzip'
  - 'vim-common'  # for vim
  - 'vim-enhanced'
  - 'wget'
  - 'xorg-x11-font-utils'  # for grafana
  - 'xorg-x11-server-utils'  # for grafana

  # to make remote-to-remote "synchronize" work in ansible
  - 'rsync'

  # K8s v1.18.6 (Epiphany >= v0.7.1)
  - 'kubeadm-1.18.6'
  - 'kubectl-1.18.6'
  - 'kubelet-1.18.6'

  # K8s v1.19.15 (Epiphany >= v1.3 transitional version)
  - 'kubeadm-1.19.15'
  - 'kubectl-1.19.15'
  - 'kubelet-1.19.15'

  # K8s v1.20.12
  - 'kubeadm-1.20.12'
  - 'kubectl-1.20.12'
  - 'kubelet-1.20.12'

  # K8s v1.21.7 (Epiphany >= v1.3, transitional version)
  - 'kubeadm-1.21.7'
  - 'kubectl-1.21.7'
  - 'kubelet-1.21.7'

  # K8s v1.22.4
  - 'kubeadm-1.22.4'
  - 'kubectl-1.22.4'
  - 'kubelet-1.22.4'

  # Kubernetes Generic
  - 'kubernetes-cni-0.8.6-0'  # since K8s v1.18.6
  - 'kubernetes-cni-0.8.7-0'  # since K8s v1.19.15
